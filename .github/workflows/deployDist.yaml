name: Deploy-Dist
on: [ push , workflow_dispatch] 
jobs:
     test:
            runs-on: ubuntu-latest
            steps: 
               - name: Get Code
                #  run : |
                #    echo "Cloning repo .."
                #    echo "${{toJson(github)}}"
                #    git clone  https://github.com/${{github.repository}}.git
                 uses: actions/checkout@v4

               - name: Install node js 
                 uses: actions/setup-node@v4
                 with:
                   node-version: 20
                   
               - name: print node version
                 run: node -v
                 
               - name: Install dependencies
                 run : npm ci

               - name: run Tests
                 run: npm run test   
     deploy:
             runs-on: ubuntu-latest    
             steps: 
               - name: Get Code
                 uses: actions/checkout@v4

               - name: Install node js 
                 uses: actions/setup-node@v4
                 with:
                   node-version: 20
                            
               - name: Install dependencies
                 run : npm ci

               - name: building Project
                 run: npm run build   
               - name: building Project
                 run: echo "deplyed successfully"